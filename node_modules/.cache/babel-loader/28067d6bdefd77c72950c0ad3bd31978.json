{"ast":null,"code":"import _regeneratorRuntime from\"D:/Coding/frontend-blog-project/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"D:/Coding/frontend-blog-project/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"D:/Coding/frontend-blog-project/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/Coding/frontend-blog-project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Routes,Route}from'react-router-dom';import{useState,useEffect}from'react';import{getCategories,getBlogs,insertBlogPost}from'./controllers/api';import Categories from'./views/categories';import Blogs from'./views/blogs';import SpecialBlogs from'./views/specialblogs';import AllInclusiveBlogs from'./views/allInclusiveBlogs';import BeachHolidaysBlogs from'./views/beachHolidaysBlogs';import CityToursBlogs from'./views/city-tours.js';import NewBlog from'./views/NewBlog';import Blogdetail from'./views/blogs_detail';import Loader from'./views/loader';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState({categories:[],blogs:[],specialblogs:[],allInclusiveBlogs:[],holidaysBlogs:[],cityToursBlogs:[]}),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),isDataLoading=_useState4[0],setIsDataLoading=_useState4[1];var addBlog=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(blog){var newblog;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return insertBlogPost(blog);case 2:newblog=_context.sent;setData(function(prev){return _objectSpread(_objectSpread({},prev),{},{newblog:newblog});});case 4:case\"end\":return _context.stop();}}},_callee);}));return function addBlog(_x){return _ref.apply(this,arguments);};}();function readData(){return _readData.apply(this,arguments);}function _readData(){_readData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var blogs,categories,specialblogs,nonspecialblogs,allInclusiveBlogs,holidaysBlogs,cityToursBlogs;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return getBlogs();case 2:blogs=_context2.sent;_context2.next=5;return getCategories();case 5:categories=_context2.sent;specialblogs=blogs.filter(function(blog){return blog.special===true;});nonspecialblogs=blogs.filter(function(blog){return blog.special===false;});allInclusiveBlogs=blogs.filter(function(blog){return blog.category_name==='all-inclusive';});holidaysBlogs=blogs.filter(function(blog){return blog.category_name==='beach-holidays';});cityToursBlogs=blogs.filter(function(blog){return blog.category_name==='city-tours';});console.log('Blogs',blogs);setData(function(prev){return _objectSpread(_objectSpread({},prev),{},{categories:categories,blogs:blogs,nonspecialblogs:nonspecialblogs,specialblogs:specialblogs,allInclusiveBlogs:allInclusiveBlogs,holidaysBlogs:holidaysBlogs,cityToursBlogs:cityToursBlogs});});if(data)setIsDataLoading(false);case 14:case\"end\":return _context2.stop();}}},_callee2);}));return _readData.apply(this,arguments);}useEffect(function(){readData();},[]);return isDataLoading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsxs(\"div\",{id:\"wrapper\",children:[/*#__PURE__*/_jsx(\"header\",{children:/*#__PURE__*/_jsx(\"h2\",{children:\"Travel blog\"})}),/*#__PURE__*/_jsxs(\"div\",{id:\"content\",children:[/*#__PURE__*/_jsxs(\"nav\",{children:[/*#__PURE__*/_jsx(\"input\",{className:\"menu-btn\",type:\"checkbox\",id:\"menu-btn\"}),/*#__PURE__*/_jsx(\"label\",{className:\"menu-icon\",htmlFor:\"menu-btn\",children:/*#__PURE__*/_jsx(\"span\",{className:\"navicon\"})}),/*#__PURE__*/_jsx(Categories,{categories:data.categories})]}),/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/all-inclusive\",element:/*#__PURE__*/_jsx(AllInclusiveBlogs,{allInclusiveBlogs:data.allInclusiveBlogs})}),/*#__PURE__*/_jsx(Route,{path:\"/all-inclusive/:id\",element:/*#__PURE__*/_jsx(Blogdetail,{blogs:data.blogs})}),/*#__PURE__*/_jsx(Route,{path:\"/beach-holidays\",element:/*#__PURE__*/_jsx(BeachHolidaysBlogs,{holidaysBlogs:data.holidaysBlogs})}),/*#__PURE__*/_jsx(Route,{path:\"/beach-holidays/:id\",element:/*#__PURE__*/_jsx(Blogdetail,{blogs:data.blogs})}),/*#__PURE__*/_jsx(Route,{path:\"/city-tours\",element:/*#__PURE__*/_jsx(CityToursBlogs,{cityToursBlogs:data.cityToursBlogs})}),/*#__PURE__*/_jsx(Route,{path:\"/city-tours/:id\",element:/*#__PURE__*/_jsx(Blogdetail,{blogs:data.blogs})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Blogs,{blogs:data.nonspecialblogs})}),/*#__PURE__*/_jsx(Route,{path:\"/:id\",element:/*#__PURE__*/_jsx(Blogdetail,{blogs:data.blogs})}),/*#__PURE__*/_jsx(Route,{path:\"/newblog\",element:/*#__PURE__*/_jsx(NewBlog,{addBlog:addBlog})})]})}),/*#__PURE__*/_jsxs(\"aside\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Special offers\"}),/*#__PURE__*/_jsx(SpecialBlogs,{specialblogs:data.specialblogs})]})]})]});}export default App;","map":{"version":3,"names":["Routes","Route","useState","useEffect","getCategories","getBlogs","insertBlogPost","Categories","Blogs","SpecialBlogs","AllInclusiveBlogs","BeachHolidaysBlogs","CityToursBlogs","NewBlog","Blogdetail","Loader","App","categories","blogs","specialblogs","allInclusiveBlogs","holidaysBlogs","cityToursBlogs","data","setData","isDataLoading","setIsDataLoading","addBlog","blog","newblog","prev","readData","filter","special","nonspecialblogs","category_name","console","log"],"sources":["D:/Coding/frontend-blog-project/src/App.js"],"sourcesContent":["import { Routes, Route } from 'react-router-dom'\r\nimport { useState, useEffect } from 'react'\r\nimport { getCategories, getBlogs, insertBlogPost } from './controllers/api'\r\nimport Categories from './views/categories'\r\nimport Blogs from './views/blogs'\r\nimport SpecialBlogs from './views/specialblogs'\r\nimport AllInclusiveBlogs from './views/allInclusiveBlogs'\r\nimport BeachHolidaysBlogs from './views/beachHolidaysBlogs'\r\nimport CityToursBlogs from './views/city-tours.js'\r\n\r\nimport NewBlog from './views/NewBlog'\r\nimport Blogdetail from './views/blogs_detail'\r\nimport Loader from './views/loader'\r\n\r\nfunction App() {\r\n    const [data, setData] = useState({\r\n        categories: [],\r\n        blogs: [],\r\n        specialblogs: [],\r\n        allInclusiveBlogs: [],\r\n        holidaysBlogs: [],\r\n        cityToursBlogs: [],\r\n    })\r\n    const [isDataLoading, setIsDataLoading] = useState(true)\r\n    const addBlog = async (blog) => {\r\n        const newblog = await insertBlogPost(blog)\r\n        setData((prev) => {\r\n            return { ...prev, newblog }\r\n        })\r\n    }\r\n    async function readData() {\r\n        const blogs = await getBlogs()\r\n        const categories = await getCategories()\r\n        const specialblogs = blogs.filter((blog) => {\r\n            return blog.special === true\r\n        })\r\n        const nonspecialblogs = blogs.filter((blog) => {\r\n            return blog.special === false\r\n        })\r\n        const allInclusiveBlogs = blogs.filter((blog) => {\r\n            return blog.category_name === 'all-inclusive'\r\n        })\r\n        const holidaysBlogs = blogs.filter((blog) => {\r\n            return blog.category_name === 'beach-holidays'\r\n        })\r\n        const cityToursBlogs = blogs.filter((blog) => {\r\n            return blog.category_name === 'city-tours'\r\n        })\r\n\r\n        console.log('Blogs', blogs)\r\n        setData((prev) => {\r\n            return {\r\n                ...prev,\r\n                categories,\r\n                blogs,\r\n                nonspecialblogs,\r\n                specialblogs,\r\n                allInclusiveBlogs,\r\n                holidaysBlogs,\r\n                cityToursBlogs,\r\n            }\r\n        })\r\n        if (data) setIsDataLoading(false)\r\n    }\r\n\r\n    useEffect(() => {\r\n        readData()\r\n    }, [])\r\n\r\n    return isDataLoading ? (\r\n        <Loader />\r\n    ) : (\r\n        <div id=\"wrapper\">\r\n            <header>\r\n                <h2>Travel blog</h2>\r\n            </header>\r\n            <div id=\"content\">\r\n                <nav>\r\n                    <input className=\"menu-btn\" type=\"checkbox\" id=\"menu-btn\" />\r\n                    <label className=\"menu-icon\" htmlFor=\"menu-btn\">\r\n                        <span className=\"navicon\"></span>\r\n                    </label>\r\n                    <Categories categories={data.categories} />\r\n                </nav>\r\n                <main>\r\n                    <Routes>\r\n                        <Route\r\n                            path=\"/all-inclusive\"\r\n                            element={\r\n                                <AllInclusiveBlogs\r\n                                    allInclusiveBlogs={data.allInclusiveBlogs}\r\n                                />\r\n                            }\r\n                        />\r\n                        <Route\r\n                            path=\"/all-inclusive/:id\"\r\n                            element={<Blogdetail blogs={data.blogs} />}\r\n                        />\r\n                        <Route\r\n                            path=\"/beach-holidays\"\r\n                            element={\r\n                                <BeachHolidaysBlogs\r\n                                    holidaysBlogs={data.holidaysBlogs}\r\n                                />\r\n                            }\r\n                        />\r\n                        <Route\r\n                            path=\"/beach-holidays/:id\"\r\n                            element={<Blogdetail blogs={data.blogs} />}\r\n                        />\r\n                        <Route\r\n                            path=\"/city-tours\"\r\n                            element={\r\n                                <CityToursBlogs\r\n                                    cityToursBlogs={data.cityToursBlogs}\r\n                                />\r\n                            }\r\n                        />\r\n                        <Route\r\n                            path=\"/city-tours/:id\"\r\n                            element={<Blogdetail blogs={data.blogs} />}\r\n                        />\r\n                        <Route\r\n                            path=\"/\"\r\n                            element={<Blogs blogs={data.nonspecialblogs} />}\r\n                        />\r\n                        <Route\r\n                            path=\"/:id\"\r\n                            element={<Blogdetail blogs={data.blogs} />}\r\n                        />\r\n                        <Route\r\n                            path=\"/newblog\"\r\n                            element={<NewBlog addBlog={addBlog} />}\r\n                        />\r\n                    </Routes>\r\n                </main>\r\n                <aside>\r\n                    <h3>Special offers</h3>\r\n                    <SpecialBlogs specialblogs={data.specialblogs} />\r\n                </aside>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default App\r\n"],"mappings":"meAAA,OAASA,MAAT,CAAiBC,KAAjB,KAA8B,kBAA9B,CACA,OAASC,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,OAASC,aAAT,CAAwBC,QAAxB,CAAkCC,cAAlC,KAAwD,mBAAxD,CACA,MAAOC,WAAP,KAAuB,oBAAvB,CACA,MAAOC,MAAP,KAAkB,eAAlB,CACA,MAAOC,aAAP,KAAyB,sBAAzB,CACA,MAAOC,kBAAP,KAA8B,2BAA9B,CACA,MAAOC,mBAAP,KAA+B,4BAA/B,CACA,MAAOC,eAAP,KAA2B,uBAA3B,CAEA,MAAOC,QAAP,KAAoB,iBAApB,CACA,MAAOC,WAAP,KAAuB,sBAAvB,CACA,MAAOC,OAAP,KAAmB,gBAAnB,C,wFAEA,QAASC,IAAT,EAAe,CACX,cAAwBd,QAAQ,CAAC,CAC7Be,UAAU,CAAE,EADiB,CAE7BC,KAAK,CAAE,EAFsB,CAG7BC,YAAY,CAAE,EAHe,CAI7BC,iBAAiB,CAAE,EAJU,CAK7BC,aAAa,CAAE,EALc,CAM7BC,cAAc,CAAE,EANa,CAAD,CAAhC,wCAAOC,IAAP,eAAaC,OAAb,eAQA,eAA0CtB,QAAQ,CAAC,IAAD,CAAlD,yCAAOuB,aAAP,eAAsBC,gBAAtB,eACA,GAAMC,QAAO,4FAAG,iBAAOC,IAAP,sJACUtB,eAAc,CAACsB,IAAD,CADxB,QACNC,OADM,eAEZL,OAAO,CAAC,SAACM,IAAD,CAAU,CACd,sCAAYA,IAAZ,MAAkBD,OAAO,CAAPA,OAAlB,GACH,CAFM,CAAP,CAFY,sDAAH,kBAAPF,QAAO,4CAAb,CAVW,QAgBII,SAhBJ,oIAgBX,kQACwB1B,SAAQ,EADhC,QACUa,KADV,uCAE6Bd,cAAa,EAF1C,QAEUa,UAFV,gBAGUE,YAHV,CAGyBD,KAAK,CAACc,MAAN,CAAa,SAACJ,IAAD,CAAU,CACxC,MAAOA,KAAI,CAACK,OAAL,GAAiB,IAAxB,CACH,CAFoB,CAHzB,CAMUC,eANV,CAM4BhB,KAAK,CAACc,MAAN,CAAa,SAACJ,IAAD,CAAU,CAC3C,MAAOA,KAAI,CAACK,OAAL,GAAiB,KAAxB,CACH,CAFuB,CAN5B,CASUb,iBATV,CAS8BF,KAAK,CAACc,MAAN,CAAa,SAACJ,IAAD,CAAU,CAC7C,MAAOA,KAAI,CAACO,aAAL,GAAuB,eAA9B,CACH,CAFyB,CAT9B,CAYUd,aAZV,CAY0BH,KAAK,CAACc,MAAN,CAAa,SAACJ,IAAD,CAAU,CACzC,MAAOA,KAAI,CAACO,aAAL,GAAuB,gBAA9B,CACH,CAFqB,CAZ1B,CAeUb,cAfV,CAe2BJ,KAAK,CAACc,MAAN,CAAa,SAACJ,IAAD,CAAU,CAC1C,MAAOA,KAAI,CAACO,aAAL,GAAuB,YAA9B,CACH,CAFsB,CAf3B,CAmBIC,OAAO,CAACC,GAAR,CAAY,OAAZ,CAAqBnB,KAArB,EACAM,OAAO,CAAC,SAACM,IAAD,CAAU,CACd,sCACOA,IADP,MAEIb,UAAU,CAAVA,UAFJ,CAGIC,KAAK,CAALA,KAHJ,CAIIgB,eAAe,CAAfA,eAJJ,CAKIf,YAAY,CAAZA,YALJ,CAMIC,iBAAiB,CAAjBA,iBANJ,CAOIC,aAAa,CAAbA,aAPJ,CAQIC,cAAc,CAAdA,cARJ,GAUH,CAXM,CAAP,CAYA,GAAIC,IAAJ,CAAUG,gBAAgB,CAAC,KAAD,CAAhB,CAhCd,yDAhBW,2CAmDXvB,SAAS,CAAC,UAAM,CACZ4B,QAAQ,GACX,CAFQ,CAEN,EAFM,CAAT,CAIA,MAAON,cAAa,cAChB,KAAC,MAAD,IADgB,cAGhB,aAAK,EAAE,CAAC,SAAR,wBACI,qCACI,mCADJ,EADJ,cAII,aAAK,EAAE,CAAC,SAAR,wBACI,oCACI,cAAO,SAAS,CAAC,UAAjB,CAA4B,IAAI,CAAC,UAAjC,CAA4C,EAAE,CAAC,UAA/C,EADJ,cAEI,cAAO,SAAS,CAAC,WAAjB,CAA6B,OAAO,CAAC,UAArC,uBACI,aAAM,SAAS,CAAC,SAAhB,EADJ,EAFJ,cAKI,KAAC,UAAD,EAAY,UAAU,CAAEF,IAAI,CAACN,UAA7B,EALJ,GADJ,cAQI,mCACI,MAAC,MAAD,yBACI,KAAC,KAAD,EACI,IAAI,CAAC,gBADT,CAEI,OAAO,cACH,KAAC,iBAAD,EACI,iBAAiB,CAAEM,IAAI,CAACH,iBAD5B,EAHR,EADJ,cASI,KAAC,KAAD,EACI,IAAI,CAAC,oBADT,CAEI,OAAO,cAAE,KAAC,UAAD,EAAY,KAAK,CAAEG,IAAI,CAACL,KAAxB,EAFb,EATJ,cAaI,KAAC,KAAD,EACI,IAAI,CAAC,iBADT,CAEI,OAAO,cACH,KAAC,kBAAD,EACI,aAAa,CAAEK,IAAI,CAACF,aADxB,EAHR,EAbJ,cAqBI,KAAC,KAAD,EACI,IAAI,CAAC,qBADT,CAEI,OAAO,cAAE,KAAC,UAAD,EAAY,KAAK,CAAEE,IAAI,CAACL,KAAxB,EAFb,EArBJ,cAyBI,KAAC,KAAD,EACI,IAAI,CAAC,aADT,CAEI,OAAO,cACH,KAAC,cAAD,EACI,cAAc,CAAEK,IAAI,CAACD,cADzB,EAHR,EAzBJ,cAiCI,KAAC,KAAD,EACI,IAAI,CAAC,iBADT,CAEI,OAAO,cAAE,KAAC,UAAD,EAAY,KAAK,CAAEC,IAAI,CAACL,KAAxB,EAFb,EAjCJ,cAqCI,KAAC,KAAD,EACI,IAAI,CAAC,GADT,CAEI,OAAO,cAAE,KAAC,KAAD,EAAO,KAAK,CAAEK,IAAI,CAACW,eAAnB,EAFb,EArCJ,cAyCI,KAAC,KAAD,EACI,IAAI,CAAC,MADT,CAEI,OAAO,cAAE,KAAC,UAAD,EAAY,KAAK,CAAEX,IAAI,CAACL,KAAxB,EAFb,EAzCJ,cA6CI,KAAC,KAAD,EACI,IAAI,CAAC,UADT,CAEI,OAAO,cAAE,KAAC,OAAD,EAAS,OAAO,CAAES,OAAlB,EAFb,EA7CJ,GADJ,EARJ,cA4DI,sCACI,sCADJ,cAEI,KAAC,YAAD,EAAc,YAAY,CAAEJ,IAAI,CAACJ,YAAjC,EAFJ,GA5DJ,GAJJ,GAHJ,CA0EH,CAED,cAAeH,IAAf"},"metadata":{},"sourceType":"module"}