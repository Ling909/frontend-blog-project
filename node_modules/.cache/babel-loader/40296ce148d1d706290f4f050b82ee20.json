{"ast":null,"code":"import _regeneratorRuntime from\"D:/Coding/frontend-blog-project/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/Coding/frontend-blog-project/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";var url='https://blog-project-tilo-justin.herokuapp.com';//for mock objects\nfunction getCategories(){return _getCategories.apply(this,arguments);}function _getCategories(){_getCategories=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(url+'/categories');case 2:response=_context.sent;_context.next=5;return response.json();case 5:result=_context.sent;return _context.abrupt(\"return\",result);case 7:case\"end\":return _context.stop();}}},_callee);}));return _getCategories.apply(this,arguments);}function getBlogs(){return _getBlogs.apply(this,arguments);}function _getBlogs(){_getBlogs=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var response,result;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(url+'/blogs');case 2:response=_context2.sent;_context2.next=5;return response.json();case 5:result=_context2.sent;return _context2.abrupt(\"return\",result);case 7:case\"end\":return _context2.stop();}}},_callee2);}));return _getBlogs.apply(this,arguments);}function insertBlogPost(_x){return _insertBlogPost.apply(this,arguments);}function _insertBlogPost(){_insertBlogPost=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(blog){var response;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch(url+'/blog',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(blog)});case 2:response=_context3.sent;if(!response.ok){_context3.next=5;break;}return _context3.abrupt(\"return\",getBlogs());case 5:throw Error('Adding blog failed');case 6:case\"end\":return _context3.stop();}}},_callee3);}));return _insertBlogPost.apply(this,arguments);}export{getCategories,getBlogs,insertBlogPost};","map":{"version":3,"names":["url","getCategories","fetch","response","json","result","getBlogs","insertBlogPost","blog","method","headers","body","JSON","stringify","ok","Error"],"sources":["D:/Coding/frontend-blog-project/src/controllers/api.js"],"sourcesContent":["const url = 'https://blog-project-tilo-justin.herokuapp.com' //for mock objects\r\n\r\nasync function getCategories() {\r\n    const response = await fetch(url + '/categories')\r\n    const result = await response.json()\r\n    return result\r\n}\r\n\r\nasync function getBlogs() {\r\n    const response = await fetch(url + '/blogs')\r\n    const result = await response.json()\r\n    return result\r\n}\r\n\r\nasync function insertBlogPost(blog) {\r\n    const response = await fetch(url + '/blog', {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(blog),\r\n    })\r\n    if (response.ok) {\r\n        return getBlogs()\r\n    }\r\n    throw Error('Adding blog failed')\r\n}\r\n\r\nexport { getCategories, getBlogs, insertBlogPost }\r\n"],"mappings":"0PAAA,GAAMA,IAAG,CAAG,gDAAZ,CAA6D;QAE9CC,c,mJAAf,+KAC2BC,MAAK,CAACF,GAAG,CAAG,aAAP,CADhC,QACUG,QADV,qCAEyBA,SAAQ,CAACC,IAAT,EAFzB,QAEUC,MAFV,+CAGWA,MAHX,wD,wDAMeC,S,oIAAf,qLAC2BJ,MAAK,CAACF,GAAG,CAAG,QAAP,CADhC,QACUG,QADV,uCAEyBA,SAAQ,CAACC,IAAT,EAFzB,QAEUC,MAFV,iDAGWA,MAHX,0D,mDAMeE,e,wJAAf,kBAA8BC,IAA9B,4JAC2BN,MAAK,CAACF,GAAG,CAAG,OAAP,CAAgB,CACxCS,MAAM,CAAE,MADgC,CAExCC,OAAO,CAAE,CACL,eAAgB,kBADX,CAF+B,CAKxCC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeL,IAAf,CALkC,CAAhB,CADhC,QACUL,QADV,oBAQQA,QAAQ,CAACW,EARjB,2DASeR,QAAQ,EATvB,cAWUS,MAAK,CAAC,oBAAD,CAXf,yD,iDAcA,OAASd,aAAT,CAAwBK,QAAxB,CAAkCC,cAAlC"},"metadata":{},"sourceType":"module"}